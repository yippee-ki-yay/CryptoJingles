{"version":3,"file":"368.aa972eb6af1b33a72631.bundle.js","mappings":"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","sources":["webpack:///./src/actions/marketplaceActions.js","webpack:///./src/components/Marketplace/Marketplace.scss?1ae9","webpack:///./src/components/Marketplace/Marketplace.jsx","webpack:///./src/components/Pagination/Pagination.scss?86cb","webpack:///./src/components/Pagination/Pagination.jsx","webpack:///./src/components/SingleJingle/SingleJingle.jsx","webpack:///./src/components/Marketplace/Marketplace.scss","webpack:///./src/components/Pagination/Pagination.scss"],"sourcesContent":["import axios from 'axios';\nimport { API_URL } from '../util/config';\nimport {\n  SET_MARKETPLACE_CATEGORY, SET_MARKETPLACE_JINGLES, SET_MARKETPLACE_SORT, SET_MARKETPLACE_PAGE,\n  MARKETPLACE_LIKE_UNLIKE_JINGLE,\n} from '../constants/actionTypes';\nimport { likeUnlikeJingle } from './utils';\n\n/**\n * Gets all jingles for category and sort option fromm the server and then sets it in the state\n *\n * @return {Function}\n */\nexport const getMarketplaceJingles = () => async (dispatch, getState) => {\n  const { currentPage, category, sorting } = getState().marketplace;\n  const { hasMM, lockedMM, address } = getState().app;\n  let jingles = [];\n\n  try {\n    // TODO - export this to Api.js\n    const response = await axios(`${API_URL}/jingles/${category.value}/${currentPage}/filter/${sorting.value}`);\n\n    const jingleIds = response.data.map((_jingle) => _jingle.jingleId).toString();\n\n    if ((hasMM && !lockedMM) && jingleIds.length > 0) {\n      const likedJinglesResponse = await axios(`${API_URL}/jingles/check-liked/${address}/${jingleIds}`);\n      jingles = response.data.map((_jingle, index) => ({\n        ..._jingle, liked: likedJinglesResponse.data[index],\n      }));\n    }\n\n    if ((!hasMM || lockedMM) && jingleIds.length > 0) {\n      jingles = response.data.map((_jingle) => ({ ..._jingle, liked: false }));\n    }\n\n    if (jingleIds.length === 0) jingles = response.data;\n\n    // false for all jingles, true to get jingles on sale\n    const query = `${API_URL}/jingles/count/filter/${sorting.value}/sale/${(category.value === 'sale').toString()}`;\n    const num = await axios(query);\n\n    dispatch({ type: SET_MARKETPLACE_JINGLES, payload: { jingles, num: num.data } });\n  } catch (err) {\n    // console.error('Get marketplace jingles error:', err); // TODO Handle this in the future\n  }\n};\n\n/**\n * Changes the current selected category for the marketplace\n * and then get all jingles for that category\n *\n * @param {Object} payload { value, label }\n *\n * @return {Function}\n */\nexport const changeMarketplaceCategory = (payload) => (dispatch) => {\n  dispatch({ type: SET_MARKETPLACE_CATEGORY, payload });\n  dispatch(getMarketplaceJingles());\n};\n\n/**\n * Changes the current selected sorting option for the marketplace\n * and then get all jingles for that sorting option\n *\n * @param {Object} payload { value, label }\n *\n * @return {Function}\n */\nexport const changeMarketplaceSorting = (payload) => (dispatch) => {\n  dispatch({ type: SET_MARKETPLACE_SORT, payload });\n  dispatch(getMarketplaceJingles());\n};\n\n/**\n * Changes the current selected page and then get all jingles for that page\n *\n * @param {Number} pageNum\n *\n * @return {Function}\n */\nexport const onMarketplacePaginationChange = (pageNum) => (dispatch) => {\n  dispatch({ type: SET_MARKETPLACE_PAGE, payload: pageNum + 1 });\n  dispatch(getMarketplaceJingles());\n};\n\n/**\n * Updates jingle like count based on jingleId.\n *\n * @param {Number} jingleId\n * @param {Boolean} action - true = like, false = dislike\n *\n * @return {Function}\n */\nexport const likeUnLikeMarketplaceJingle = (jingleId, action) => async (dispatch, getState) => {\n  const state = getState();\n  const { address } = state.app;\n\n  try {\n    const likeData = await likeUnlikeJingle(jingleId, action, address);\n    if (!likeData) return;\n\n    const jingles = [...state.marketplace.jingles];\n    const jingleIndex = jingles.findIndex((_jingle) => _jingle.jingleId === jingleId);\n\n    jingles[jingleIndex] = { ...jingles[jingleIndex], ...likeData };\n    dispatch({ type: MARKETPLACE_LIKE_UNLIKE_JINGLE, payload: jingles });\n  } catch (err) {\n    // TODO Handle this in the future\n  }\n};\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./Marketplace.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./Marketplace.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","// TODO - move file to components folder\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Dropdown from 'react-dropdown';\nimport 'react-dropdown/style.css';\nimport PropTypes from 'prop-types';\nimport SingleJingle from '../SingleJingle/SingleJingle';\nimport Pagination from '../Pagination/Pagination';\nimport {\n  getMarketplaceJingles, changeMarketplaceCategory, changeMarketplaceSorting,\n  onMarketplacePaginationChange,\n} from '../../actions/marketplaceActions';\nimport { MARKETPLACE_JINGLES_PER_PAGE } from '../../constants/actionTypes';\n\nimport './Marketplace.scss';\n\n// TODO - Add prototypes\nclass Marketplace extends Component {\n  async componentDidMount() {\n    this.props.getMarketplaceJingles();\n  }\n\n  render() {\n    const {\n      jingles, jinglesPerPage, sorting, sortingOptions, category, categories, totalJingles,\n    } = this.props;\n    const { changeMarketplaceCategory, changeMarketplaceSorting, onMarketplacePaginationChange } = this.props;\n\n    return (\n      <div className=\"marketplace-page-wrapper container\">\n        <div className=\"marketplace-wrapper\">\n\n          { /* SIDEBAR RENDER (TODO - Create component) */ }\n          <div className=\"sidebar\">\n\n            <div className=\"sort-wrapper\">\n              <div className=\"sort-wrapper-label\">Category:</div>\n              <Dropdown\n                onChange={(val) => { changeMarketplaceCategory(val); }}\n                value={category}\n                options={categories}\n              />\n            </div>\n\n            <div className=\"sort-wrapper\">\n              <div className=\"sort-wrapper-label\">Sort by:</div>\n              <Dropdown\n                onChange={(val) => { changeMarketplaceSorting(val); }}\n                value={sorting}\n                options={sortingOptions}\n              />\n            </div>\n\n          </div>\n\n          { /* JINGLES RENDER (TODO - Create component) */ }\n          <div className=\"songs-section\">\n            <div className=\"songs-count\">\n              { totalJingles } Jingles\n            </div>\n\n            <div className=\"songs-wrapper\">\n              { jingles.map((jingle) => (\n                <SingleJingle\n                  type=\"marketplace\"\n                  key={jingle.jingleId}\n                  {...jingle}\n                />\n              )) }\n            </div>\n\n            {\n              totalJingles > MARKETPLACE_JINGLES_PER_PAGE && (\n                <Pagination\n                  pageCount={Math.ceil(totalJingles / jinglesPerPage)}\n                  onPageChange={onMarketplacePaginationChange}\n                />\n              )\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nMarketplace.propTypes = {\n  jingles: PropTypes.array.isRequired,\n  jinglesPerPage: PropTypes.number.isRequired,\n  sorting: PropTypes.object.isRequired,\n  category: PropTypes.object.isRequired,\n  categories: PropTypes.array.isRequired,\n  totalJingles: PropTypes.number.isRequired,\n  sortingOptions: PropTypes.array.isRequired,\n  changeMarketplaceCategory: PropTypes.func.isRequired,\n  changeMarketplaceSorting: PropTypes.func.isRequired,\n  getMarketplaceJingles: PropTypes.func.isRequired,\n  onMarketplacePaginationChange: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  totalJingles: state.marketplace.totalJingles,\n  jinglesPerPage: state.marketplace.jinglesPerPage,\n  jingles: state.marketplace.jingles,\n  sorting: state.marketplace.sorting,\n  sortingOptions: state.marketplace.sortingOptions,\n  category: state.marketplace.category,\n  categories: state.marketplace.categories,\n});\n\nconst mapDispatchToProps = {\n  getMarketplaceJingles, changeMarketplaceCategory, changeMarketplaceSorting, onMarketplacePaginationChange,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Marketplace);\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./Pagination.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[3]!./Pagination.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React from 'react';\nimport ReactPaginate from 'react-paginate';\nimport PropTypes from 'prop-types';\n\nimport './Pagination.scss';\n\nconst Pagination = ({ pageCount, onPageChange, range }) => (\n  <div className=\"pagination-wrapper\">\n    <ReactPaginate\n      previousLabel=\"Previous\"\n      nextLabel=\"Next\"\n      breakLabel={<a href=\"\">...</a>}\n      breakClassName=\"break-me\"\n      pageCount={pageCount}\n      marginPagesDisplayed={2}\n      pageRangeDisplayed={range}\n      onPageChange={(data) => { onPageChange(data.selected); }}\n      containerClassName=\"pagination\"\n      subContainerClassName=\"pages pagination\"\n      activeClassName=\"active\"\n    />\n  </div>\n);\n\nPagination.defaultProps = {\n  range: 10,\n};\n\nPagination.propTypes = {\n  pageCount: PropTypes.number.isRequired,\n  onPageChange: PropTypes.func.isRequired,\n  range: PropTypes.number,\n};\n\nexport default Pagination;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { Sound, Group } from 'pizzicato';\nimport PropTypes from 'prop-types';\nimport JingleImage from '../JingleImage/JingleImage';\nimport LoadingIcon from '../Decorative/LoadingIcon';\nimport Heart from '../Decorative/Heart';\nimport { getJingleMetadata } from '../../constants/getMockData';\nimport { likeUnLikeMarketplaceJingle } from '../../actions/marketplaceActions';\nimport { likeUnLikeProfileJingle } from '../../actions/profileActions';\nimport { playWithDelay } from '../../util/soundHelper';\nimport { formatSalePrice } from '../../actions/utils';\n\nclass SingleJingle extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      start: false,\n      loading: false,\n      sound: null,\n    };\n\n    this.stopSound = this.stopSound.bind(this);\n    this.playSound = this.playSound.bind(this);\n    this.loadJingle = this.loadJingle.bind(this);\n  }\n\n  componentWillUnmount() { this.stopSound(); }\n\n  playSound = () => {\n    if (this.state.sound === null) {\n      this.loadJingle();\n      return;\n    }\n\n    playWithDelay(this.state.sound, this.props.settings);\n    this.setState({ start: true });\n  };\n\n  stopSound = () => {\n    if (!this.state.sound) return;\n    this.state.sound.stop();\n    this.setState({ start: false });\n  };\n\n  likeJingle = (jingleId, action) => {\n    if (!this.props.canLike) return;\n    if (this.props.type === 'marketplace') this.props.likeUnLikeMarketplaceJingle(jingleId, action);\n    if (this.props.type === 'profile') this.props.likeUnLikeProfileJingle(jingleId, action);\n  };\n\n  loadJingle() {\n    let delays = this.props.settings.slice(5, 11);\n    delays = delays.map((d) => parseInt(d, 10));\n\n    const sampleSrcs = this.props.sampleTypes.map((sampleType, i) => new Promise((resolve) => {\n      const sound = new Sound(getJingleMetadata(sampleType).source, () => { resolve(sound); });\n      sound.volume = parseInt(this.props.settings[i], 10) / 100;\n    }));\n\n    this.setState({ loading: true });\n\n    Promise.all(sampleSrcs).then((sources) => {\n      const longestSound = sources.reduce((prev, current, i) => ((\n        (prev.getRawSourceNode().buffer.duration + delays[i]) >\n        (current.getRawSourceNode().buffer.duration) + delays[i]) ?\n        prev : current));\n\n      longestSound.on('stop', () => { this.setState({ start: false }); });\n\n      const sound = new Group(sources);\n\n      sound.on('stop', () => { this.setState({ start: false }); });\n\n      this.setState({ sound, start: false, loading: false });\n      this.playSound();\n    });\n  }\n\n  render() {\n    const {\n      jingleId, author, name, onSale, price, likeCount, liked, hasMM, lockedMM, type, canLike,\n    } = this.props;\n\n    return (\n      <div key={jingleId} className=\"single-song\">\n        <div className=\"jingle-image-actions\">\n          {\n            onSale && (\n              <div className=\"header-label\">\n                <span>On sale for:</span>\n                {formatSalePrice(price)}Îž\n              </div>\n            )\n          }\n\n          <div className=\"jingle-image-container\">\n            <JingleImage width={200} height={200} id={jingleId} />\n          </div>\n\n          <div className=\"overlay\">\n            { this.state.loading && <LoadingIcon /> }\n            {\n              !this.state.start && !this.state.loading && (\n                <span onClick={this.playSound}>\n                  <i className=\"material-icons play\">play_circle_outline</i>\n                </span>\n              )\n            }\n            {\n              this.state.start && !this.state.loading &&\n              <span onClick={this.stopSound}><i className=\"material-icons stop\">cancel</i></span>\n            }\n            <Link to={`/jingle/${jingleId}`}>\n              <i className=\"material-icons open\">open_in_new</i>\n            </Link>\n          </div>\n        </div>\n\n        <div className=\"jingle-footer\">\n          <div className=\"id-likes-wrapper\">\n            <span>#{ jingleId }</span>\n            {\n              type !== 'home' && (\n                <span>\n                  <span onClick={() => { this.likeJingle(jingleId, !liked); }}>\n                    <Heart active={liked} size=\"30\" canLike={hasMM && !lockedMM && canLike} />\n                  </span>\n                  <span>{ likeCount }</span>\n                </span>\n              )\n            }\n          </div>\n          <div className=\"jingle-footer-author\">{ author }</div>\n          <div className=\"jingle-footer-name\">{ name }</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nSingleJingle.propTypes = {\n  likeUnLikeMarketplaceJingle: PropTypes.func.isRequired,\n  likeUnLikeProfileJingle: PropTypes.func.isRequired,\n  hasMM: PropTypes.bool.isRequired,\n  lockedMM: PropTypes.bool.isRequired,\n  canLike: PropTypes.bool.isRequired,\n  settings: PropTypes.array.isRequired,\n  sampleTypes: PropTypes.array.isRequired,\n  type: PropTypes.string.isRequired,\n  jingleId: PropTypes.number.isRequired,\n  author: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  onSale: PropTypes.bool.isRequired,\n  price: PropTypes.number.isRequired,\n  likeCount: PropTypes.number.isRequired,\n  liked: PropTypes.bool.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  volumes: state.compose.volumes,\n  delays: state.compose.delays,\n  hasMM: state.app.hasMM,\n  lockedMM: state.app.lockedMM,\n  canLike: state.app.canLike,\n});\n\nconst mapDispatchToProps = { likeUnLikeMarketplaceJingle, likeUnLikeProfileJingle };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SingleJingle);\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".marketplace-wrapper{background:white;display:flex;margin-top:20px}.marketplace-play-wrapper{height:200px;font-size:40px;justify-content:center;align-items:center;display:flex}.marketplace-wrapper .songs-wrapper{padding:10px;padding-left:0;width:100%;justify-content:flex-start;display:flex;flex-wrap:wrap}.songs-count{margin:20px 0 5px 20px;font-size:16px;font-weight:bold}.single-song{display:flex;position:relative;flex-direction:column;width:200px;margin:10px 10px 5px 10px}.single-song #load,.single-song .loading-icon-wrapper{width:45px}.single-song #load #loading-inner{width:43px;stroke:#fff}.single-song .header-label{position:absolute;top:10px;left:25px;z-index:10;background:black;width:150px;text-align:center;padding:5px;font-size:14px;color:white}.single-song .header-label span{margin-right:5px}.single-song .overlay{position:absolute;transition:0.2s ease-in;display:flex;visibility:hidden;z-index:10;top:0;left:0;height:200px;width:100%;align-items:center;justify-content:space-evenly}.overlay .play,.overlay .open,.overlay .stop{color:white;cursor:pointer;font-size:45px}.jingle-image-container{position:relative;z-index:9;width:100%;vertical-align:top}.jingle-image-container .jingle-image-wrapper{height:200px}.single-song .jingle-image-container:hover+.overlay,.single-song .overlay:hover{visibility:visible;background:rgba(0,0,0,0.5)}.marketplace-wrapper .sidebar{border-right:1px solid #d1d1d1;color:black;padding:20px;padding-left:0;flex:1;flex-basis:240px;min-width:240px;max-width:240px;margin-right:10px;margin-bottom:20px}.sort-wrapper:not(:last-child){margin-bottom:20px}.sort-wrapper .sort-wrapper-label{font-size:20px;margin-bottom:15px}.marketplace-page-wrapper .pagination-wrapper{margin-left:15px}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Marketplace/Marketplace.scss\"],\"names\":[],\"mappings\":\"AAAA,qBACI,gBAAiB,CACjB,YAAa,CACb,eAAgB,CACnB,0BAGG,YAAa,CACb,cAAe,CACf,sBAAuB,CACvB,kBAAmB,CACnB,YAAa,CAChB,oCAGG,YAAa,CACb,cAAe,CACf,UAAW,CACX,0BAA2B,CAC3B,YAAa,CACb,cAAe,CAClB,aAGG,sBAAuB,CACvB,cAAe,CACf,gBAAiB,CACpB,aAGG,YAAa,CACb,iBAAiB,CACjB,qBAAsB,CACtB,WAAY,CACZ,yBAA0B,CAC7B,sDAGG,UAAW,CACd,kCAGG,UAAW,CACX,WAAY,CACf,2BAGG,iBAAkB,CAClB,QAAS,CACT,SAAU,CACV,UAAW,CACX,gBAAiB,CACjB,WAAY,CACZ,iBAAkB,CAClB,WAAY,CACZ,cAAe,CACf,WAAY,CACf,gCAGG,gBAAiB,CACpB,sBAGG,iBAAkB,CAClB,uBAAwB,CACxB,YAAa,CACb,iBAAkB,CAClB,UAAW,CACX,KAAM,CACN,MAAO,CACP,YAAa,CACb,UAAU,CACV,kBAAmB,CACnB,4BAA6B,CAChC,6CAGG,WAAY,CACZ,cAAe,CACf,cAAe,CAClB,wBAGG,iBAAkB,CAClB,SAAU,CACV,UAAU,CACV,kBAAkB,CACrB,8CAGG,YAAa,CAChB,gFAGG,kBAAmB,CACnB,0BAA8B,CACjC,8BAMG,8BAA+B,CAC/B,WAAY,CACZ,YAAa,CACb,cAAe,CACf,MAAO,CACP,gBAAiB,CACjB,eAAgB,CAChB,eAAgB,CAChB,iBAAkB,CAClB,kBAAmB,CACtB,+BAGG,kBAAmB,CACtB,kCAGG,cAAe,CACf,kBAAmB,CACtB,8CAGG,gBAAiB\",\"sourcesContent\":[\".marketplace-wrapper {\\n    background: white;\\n    display: flex;\\n    margin-top: 20px;\\n}\\n\\n.marketplace-play-wrapper {\\n    height: 200px;\\n    font-size: 40px;\\n    justify-content: center;\\n    align-items: center;\\n    display: flex;\\n}\\n\\n.marketplace-wrapper .songs-wrapper {\\n    padding: 10px;\\n    padding-left: 0;\\n    width: 100%;\\n    justify-content: flex-start;\\n    display: flex;\\n    flex-wrap: wrap;\\n}\\n\\n.songs-count {\\n    margin: 20px 0 5px 20px;\\n    font-size: 16px;\\n    font-weight: bold;\\n}\\n\\n.single-song {\\n    display: flex;\\n    position:relative;\\n    flex-direction: column;\\n    width: 200px;\\n    margin: 10px 10px 5px 10px;\\n}\\n\\n.single-song #load, .single-song  .loading-icon-wrapper {\\n    width: 45px;\\n}\\n\\n.single-song #load #loading-inner {\\n    width: 43px;\\n    stroke: #fff;\\n}\\n\\n.single-song .header-label {\\n    position: absolute;\\n    top: 10px;\\n    left: 25px;\\n    z-index: 10;\\n    background: black;\\n    width: 150px;\\n    text-align: center;\\n    padding: 5px;\\n    font-size: 14px;\\n    color: white;\\n}\\n\\n.single-song .header-label span {\\n    margin-right: 5px;\\n}\\n\\n.single-song .overlay {\\n    position: absolute;\\n    transition: 0.2s ease-in;\\n    display: flex;\\n    visibility: hidden;\\n    z-index: 10;\\n    top: 0;\\n    left: 0;\\n    height: 200px;\\n    width:100%;\\n    align-items: center;\\n    justify-content: space-evenly;\\n}\\n\\n.overlay .play, .overlay .open, .overlay .stop {\\n    color: white;\\n    cursor: pointer;\\n    font-size: 45px;\\n}\\n\\n.jingle-image-container {\\n    position: relative;\\n    z-index: 9;\\n    width:100%;\\n    vertical-align:top;\\n}\\n\\n.jingle-image-container .jingle-image-wrapper {\\n    height: 200px;\\n}\\n\\n.single-song .jingle-image-container:hover + .overlay, .single-song .overlay:hover {\\n    visibility: visible;\\n    background: rgba(0, 0, 0, 0.5);\\n}\\n\\n/*img:after*/\\n/*opacity: 1;*/\\n\\n.marketplace-wrapper .sidebar {\\n    border-right: 1px solid #d1d1d1;\\n    color: black;\\n    padding: 20px;\\n    padding-left: 0;\\n    flex: 1;\\n    flex-basis: 240px;\\n    min-width: 240px;\\n    max-width: 240px;\\n    margin-right: 10px;\\n    margin-bottom: 20px;\\n}\\n\\n.sort-wrapper:not(:last-child) {\\n    margin-bottom: 20px;\\n}\\n\\n.sort-wrapper .sort-wrapper-label {\\n    font-size: 20px;\\n    margin-bottom: 15px;\\n}\\n\\n.marketplace-page-wrapper .pagination-wrapper {\\n    margin-left: 15px;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".pagination-wrapper .pagination>.active>a{background:black;color:white}.pagination-wrapper .pagination>li>a{font-size:14px;color:black}.pagination-wrapper .pagination>li>a:hover{cursor:pointer;background:black;color:white}.pagination-wrapper .pagination>.disabled>a:hover{cursor:not-allowed}.pagination-wrapper .pagination>li.next>a:hover,.pagination-wrapper .pagination>li.previous>a:hover{background:white;color:black;opacity:0.75}.pagination-wrapper .pagination>li:first-child>a,.pagination-wrapper .pagination>li:first-child>span{margin-left:0;border-bottom-left-radius:0;border-top-left-radius:0}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Pagination/Pagination.scss\"],\"names\":[],\"mappings\":\"AAAA,0CACI,gBAAiB,CACjB,WAAY,CACf,qCAGG,cAAe,CACf,WAAY,CACf,2CAGG,cAAe,CACf,gBAAiB,CACjB,WAAY,CACf,kDAGG,kBAAmB,CACtB,oGAIG,gBAAiB,CACjB,WAAY,CACZ,YAAa,CAChB,qGAIG,aAAc,CACd,2BAA4B,CAC5B,wBAAyB\",\"sourcesContent\":[\".pagination-wrapper .pagination > .active > a {\\n    background: black;\\n    color: white;\\n}\\n\\n.pagination-wrapper .pagination > li > a {\\n    font-size: 14px;\\n    color: black;\\n}\\n\\n.pagination-wrapper .pagination > li > a:hover {\\n    cursor: pointer;\\n    background: black;\\n    color: white;\\n}\\n\\n.pagination-wrapper .pagination > .disabled > a:hover {\\n    cursor: not-allowed;\\n}\\n\\n.pagination-wrapper .pagination > li.next > a:hover,\\n.pagination-wrapper .pagination > li.previous > a:hover {\\n    background: white;\\n    color: black;\\n    opacity: 0.75;\\n}\\n\\n.pagination-wrapper .pagination > li:first-child > a,\\n.pagination-wrapper .pagination > li:first-child > span {\\n    margin-left: 0;\\n    border-bottom-left-radius: 0;\\n    border-top-left-radius: 0;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["getMarketplaceJingles","dispatch","getState","marketplace","currentPage","category","sorting","app","hasMM","lockedMM","address","jingles","axios","API_URL","value","response","jingleIds","data","map","_jingle","jingleId","toString","length","likedJinglesResponse","index","liked","query","num","type","SET_MARKETPLACE_JINGLES","payload","changeMarketplaceCategory","SET_MARKETPLACE_CATEGORY","changeMarketplaceSorting","SET_MARKETPLACE_SORT","onMarketplacePaginationChange","pageNum","SET_MARKETPLACE_PAGE","likeUnLikeMarketplaceJingle","action","state","likeUnlikeJingle","likeData","jingleIndex","findIndex","MARKETPLACE_LIKE_UNLIKE_JINGLE","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","Marketplace","this","props","jinglesPerPage","sortingOptions","categories","totalJingles","className","onChange","val","jingle","SingleJingle","key","MARKETPLACE_JINGLES_PER_PAGE","Pagination","pageCount","Math","ceil","onPageChange","Component","propTypes","PropTypes","mapDispatchToProps","connect","range","previousLabel","nextLabel","breakLabel","href","breakClassName","marginPagesDisplayed","pageRangeDisplayed","selected","containerClassName","subContainerClassName","activeClassName","defaultProps","sound","playWithDelay","settings","setState","start","loadJingle","stop","canLike","likeUnLikeProfileJingle","loading","stopSound","bind","playSound","delays","slice","d","parseInt","sampleSrcs","sampleTypes","sampleType","i","Promise","resolve","Sound","getJingleMetadata","source","volume","all","then","sources","reduce","prev","current","getRawSourceNode","buffer","duration","on","Group","author","name","onSale","price","likeCount","formatSalePrice","width","height","id","onClick","to","likeJingle","active","size","volumes","compose","___CSS_LOADER_EXPORT___","push","module"],"sourceRoot":""}