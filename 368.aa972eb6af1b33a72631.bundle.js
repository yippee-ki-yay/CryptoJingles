"use strict";(self.webpackChunkcrypto_jingles=self.webpackChunkcrypto_jingles||[]).push([[368],{55425:(e,n,t)=>{t.d(n,{N3:()=>f,Ns:()=>C,_f:()=>m,ai:()=>h,Gh:()=>k});var a=t(42982),i=t(4942),r=t(15861),o=t(87757),l=t.n(o),s=t(9669),p=t.n(s),c=t(6752),g=t(78334),u=t(67661);function A(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?A(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var f=function(){return function(){var e=(0,r.Z)(l().mark((function e(n,t){var a,i,r,o,s,u,A,f,C,m,h,k,v,y;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t().marketplace,i=a.currentPage,r=a.category,o=a.sorting,s=t().app,u=s.hasMM,A=s.lockedMM,f=s.address,C=[],e.prev=3,e.next=6,p()("".concat(c.T5,"/jingles/").concat(r.value,"/").concat(i,"/filter/").concat(o.value));case 6:if(m=e.sent,h=m.data.map((function(e){return e.jingleId})).toString(),!(u&&!A&&h.length>0)){e.next=13;break}return e.next=11,p()("".concat(c.T5,"/jingles/check-liked/").concat(f,"/").concat(h));case 11:k=e.sent,C=m.data.map((function(e,n){return d(d({},e),{},{liked:k.data[n]})}));case 13:return(!u||A)&&h.length>0&&(C=m.data.map((function(e){return d(d({},e),{},{liked:!1})}))),0===h.length&&(C=m.data),v="".concat(c.T5,"/jingles/count/filter/").concat(o.value,"/sale/").concat(("sale"===r.value).toString()),e.next=18,p()(v);case 18:y=e.sent,n({type:g.yc,payload:{jingles:C,num:y.data}}),e.next=24;break;case 22:e.prev=22,e.t0=e.catch(3);case 24:case"end":return e.stop()}}),e,null,[[3,22]])})));return function(n,t){return e.apply(this,arguments)}}()},C=function(e){return function(n){n({type:g.dT,payload:e}),n(f())}},m=function(e){return function(n){n({type:g.jh,payload:e}),n(f())}},h=function(e){return function(n){n({type:g.rL,payload:e+1}),n(f())}},k=function(e,n){return function(){var t=(0,r.Z)(l().mark((function t(i,r){var o,s,p,c,A;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r(),s=o.app.address,t.prev=2,t.next=5,(0,u.$M)(e,n,s);case 5:if(p=t.sent){t.next=8;break}return t.abrupt("return");case 8:c=(0,a.Z)(o.marketplace.jingles),A=c.findIndex((function(n){return n.jingleId===e})),c[A]=d(d({},c[A]),p),i({type:g.rU,payload:c}),t.next=16;break;case 14:t.prev=14,t.t0=t.catch(2);case 16:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e,n){return t.apply(this,arguments)}}()}},16368:(e,n,t)=>{t.r(n),t.d(n,{default:()=>J});var a=t(87462),i=t(15861),r=t(15671),o=t(43144),l=t(60136),s=t(82963),p=t(61120),c=t(87757),g=t.n(c),u=t(67294),A=t(25264),d=t(93658),f=t(45697),C=t.n(f),m=t(51530),h=t(29793),k=t(55425),v=t(78334),y=t(93379),b=t.n(y),B=t(7795),x=t.n(B),w=t(90569),j=t.n(w),Z=t(3565),G=t.n(Z),E=t(19216),M=t.n(E),R=t(44589),P=t.n(R),N=t(55721),S={};S.styleTagTransform=P(),S.setAttributes=G(),S.insert=j().bind(null,"head"),S.domAPI=x(),S.insertStyleElement=M();b()(N.Z,S);N.Z&&N.Z.locals&&N.Z.locals;function q(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,a=(0,p.Z)(e);if(n){var i=(0,p.Z)(this).constructor;t=Reflect.construct(a,arguments,i)}else t=a.apply(this,arguments);return(0,s.Z)(this,t)}}var O=function(e){(0,l.Z)(s,e);var n,t=q(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,o.Z)(s,[{key:"componentDidMount",value:(n=(0,i.Z)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.getMarketplaceJingles();case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,n=e.jingles,t=e.jinglesPerPage,i=e.sorting,r=e.sortingOptions,o=e.category,l=e.categories,s=e.totalJingles,p=this.props,c=p.changeMarketplaceCategory,g=p.changeMarketplaceSorting,A=p.onMarketplacePaginationChange;return u.createElement("div",{className:"marketplace-page-wrapper container"},u.createElement("div",{className:"marketplace-wrapper"},u.createElement("div",{className:"sidebar"},u.createElement("div",{className:"sort-wrapper"},u.createElement("div",{className:"sort-wrapper-label"},"Category:"),u.createElement(d.Z,{onChange:function(e){c(e)},value:o,options:l})),u.createElement("div",{className:"sort-wrapper"},u.createElement("div",{className:"sort-wrapper-label"},"Sort by:"),u.createElement(d.Z,{onChange:function(e){g(e)},value:i,options:r}))),u.createElement("div",{className:"songs-section"},u.createElement("div",{className:"songs-count"},s," Jingles"),u.createElement("div",{className:"songs-wrapper"},n.map((function(e){return u.createElement(m.Z,(0,a.Z)({type:"marketplace",key:e.jingleId},e))}))),s>v.$D&&u.createElement(h.Z,{pageCount:Math.ceil(s/t),onPageChange:A}))))}}]),s}(u.Component);O.propTypes={jingles:C().array.isRequired,jinglesPerPage:C().number.isRequired,sorting:C().object.isRequired,category:C().object.isRequired,categories:C().array.isRequired,totalJingles:C().number.isRequired,sortingOptions:C().array.isRequired,changeMarketplaceCategory:C().func.isRequired,changeMarketplaceSorting:C().func.isRequired,getMarketplaceJingles:C().func.isRequired,onMarketplacePaginationChange:C().func.isRequired};var Y={getMarketplaceJingles:k.N3,changeMarketplaceCategory:k.Ns,changeMarketplaceSorting:k._f,onMarketplacePaginationChange:k.ai};const J=(0,A.$j)((function(e){return{totalJingles:e.marketplace.totalJingles,jinglesPerPage:e.marketplace.jinglesPerPage,jingles:e.marketplace.jingles,sorting:e.marketplace.sorting,sortingOptions:e.marketplace.sortingOptions,category:e.marketplace.category,categories:e.marketplace.categories}}),Y)(O)},29793:(e,n,t)=>{t.d(n,{Z:()=>B});var a=t(67294),i=t(11358),r=t.n(i),o=t(45697),l=t.n(o),s=t(93379),p=t.n(s),c=t(7795),g=t.n(c),u=t(90569),A=t.n(u),d=t(3565),f=t.n(d),C=t(19216),m=t.n(C),h=t(44589),k=t.n(h),v=t(74988),y={};y.styleTagTransform=k(),y.setAttributes=f(),y.insert=A().bind(null,"head"),y.domAPI=g(),y.insertStyleElement=m();p()(v.Z,y);v.Z&&v.Z.locals&&v.Z.locals;var b=function(e){var n=e.pageCount,t=e.onPageChange,i=e.range;return a.createElement("div",{className:"pagination-wrapper"},a.createElement(r(),{previousLabel:"Previous",nextLabel:"Next",breakLabel:a.createElement("a",{href:""},"..."),breakClassName:"break-me",pageCount:n,marginPagesDisplayed:2,pageRangeDisplayed:i,onPageChange:function(e){t(e.selected)},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"}))};b.defaultProps={range:10},b.propTypes={pageCount:l().number.isRequired,onPageChange:l().func.isRequired,range:l().number};const B=b},51530:(e,n,t)=>{t.d(n,{Z:()=>Z});var a=t(15671),i=t(43144),r=t(97326),o=t(60136),l=t(82963),s=t(61120),p=t(4942),c=t(67294),g=t(25264),u=t(73727),A=t(89528),d=t(45697),f=t.n(d),C=t(67917),m=t(79484),h=t(31841),k=t(62692),v=t(55425),y=t(80166),b=t(5056),B=t(67661);function x(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,a=(0,s.Z)(e);if(n){var i=(0,s.Z)(this).constructor;t=Reflect.construct(a,arguments,i)}else t=a.apply(this,arguments);return(0,l.Z)(this,t)}}var w=function(e){(0,o.Z)(t,e);var n=x(t);function t(e){var i;return(0,a.Z)(this,t),i=n.call(this,e),(0,p.Z)((0,r.Z)(i),"playSound",(function(){null!==i.state.sound?((0,b.Q)(i.state.sound,i.props.settings),i.setState({start:!0})):i.loadJingle()})),(0,p.Z)((0,r.Z)(i),"stopSound",(function(){i.state.sound&&(i.state.sound.stop(),i.setState({start:!1}))})),(0,p.Z)((0,r.Z)(i),"likeJingle",(function(e,n){i.props.canLike&&("marketplace"===i.props.type&&i.props.likeUnLikeMarketplaceJingle(e,n),"profile"===i.props.type&&i.props.likeUnLikeProfileJingle(e,n))})),i.state={start:!1,loading:!1,sound:null},i.stopSound=i.stopSound.bind((0,r.Z)(i)),i.playSound=i.playSound.bind((0,r.Z)(i)),i.loadJingle=i.loadJingle.bind((0,r.Z)(i)),i}return(0,i.Z)(t,[{key:"componentWillUnmount",value:function(){this.stopSound()}},{key:"loadJingle",value:function(){var e=this,n=this.props.settings.slice(5,11);n=n.map((function(e){return parseInt(e,10)}));var t=this.props.sampleTypes.map((function(n,t){return new Promise((function(a){var i=new A.Sound((0,k.H)(n).source,(function(){a(i)}));i.volume=parseInt(e.props.settings[t],10)/100}))}));this.setState({loading:!0}),Promise.all(t).then((function(t){t.reduce((function(e,t,a){return e.getRawSourceNode().buffer.duration+n[a]>t.getRawSourceNode().buffer.duration+n[a]?e:t})).on("stop",(function(){e.setState({start:!1})}));var a=new A.Group(t);a.on("stop",(function(){e.setState({start:!1})})),e.setState({sound:a,start:!1,loading:!1}),e.playSound()}))}},{key:"render",value:function(){var e=this,n=this.props,t=n.jingleId,a=n.author,i=n.name,r=n.onSale,o=n.price,l=n.likeCount,s=n.liked,p=n.hasMM,g=n.lockedMM,A=n.type,d=n.canLike;return c.createElement("div",{key:t,className:"single-song"},c.createElement("div",{className:"jingle-image-actions"},r&&c.createElement("div",{className:"header-label"},c.createElement("span",null,"On sale for:"),(0,B.$G)(o),"Îž"),c.createElement("div",{className:"jingle-image-container"},c.createElement(C.Z,{width:200,height:200,id:t})),c.createElement("div",{className:"overlay"},this.state.loading&&c.createElement(m.Z,null),!this.state.start&&!this.state.loading&&c.createElement("span",{onClick:this.playSound},c.createElement("i",{className:"material-icons play"},"play_circle_outline")),this.state.start&&!this.state.loading&&c.createElement("span",{onClick:this.stopSound},c.createElement("i",{className:"material-icons stop"},"cancel")),c.createElement(u.rU,{to:"/jingle/".concat(t)},c.createElement("i",{className:"material-icons open"},"open_in_new")))),c.createElement("div",{className:"jingle-footer"},c.createElement("div",{className:"id-likes-wrapper"},c.createElement("span",null,"#",t),"home"!==A&&c.createElement("span",null,c.createElement("span",{onClick:function(){e.likeJingle(t,!s)}},c.createElement(h.Z,{active:s,size:"30",canLike:p&&!g&&d})),c.createElement("span",null,l))),c.createElement("div",{className:"jingle-footer-author"},a),c.createElement("div",{className:"jingle-footer-name"},i)))}}]),t}(c.Component);w.propTypes={likeUnLikeMarketplaceJingle:f().func.isRequired,likeUnLikeProfileJingle:f().func.isRequired,hasMM:f().bool.isRequired,lockedMM:f().bool.isRequired,canLike:f().bool.isRequired,settings:f().array.isRequired,sampleTypes:f().array.isRequired,type:f().string.isRequired,jingleId:f().number.isRequired,author:f().string.isRequired,name:f().string.isRequired,onSale:f().bool.isRequired,price:f().number.isRequired,likeCount:f().number.isRequired,liked:f().bool.isRequired};var j={likeUnLikeMarketplaceJingle:v.Gh,likeUnLikeProfileJingle:y.gv};const Z=(0,g.$j)((function(e){return{volumes:e.compose.volumes,delays:e.compose.delays,hasMM:e.app.hasMM,lockedMM:e.app.lockedMM,canLike:e.app.canLike}}),j)(w)},55721:(e,n,t)=>{t.d(n,{Z:()=>l});var a=t(94015),i=t.n(a),r=t(23645),o=t.n(r)()(i());o.push([e.id,".marketplace-wrapper{background:white;display:flex;margin-top:20px}.marketplace-play-wrapper{height:200px;font-size:40px;justify-content:center;align-items:center;display:flex}.marketplace-wrapper .songs-wrapper{padding:10px;padding-left:0;width:100%;justify-content:flex-start;display:flex;flex-wrap:wrap}.songs-count{margin:20px 0 5px 20px;font-size:16px;font-weight:bold}.single-song{display:flex;position:relative;flex-direction:column;width:200px;margin:10px 10px 5px 10px}.single-song #load,.single-song .loading-icon-wrapper{width:45px}.single-song #load #loading-inner{width:43px;stroke:#fff}.single-song .header-label{position:absolute;top:10px;left:25px;z-index:10;background:black;width:150px;text-align:center;padding:5px;font-size:14px;color:white}.single-song .header-label span{margin-right:5px}.single-song .overlay{position:absolute;transition:0.2s ease-in;display:flex;visibility:hidden;z-index:10;top:0;left:0;height:200px;width:100%;align-items:center;justify-content:space-evenly}.overlay .play,.overlay .open,.overlay .stop{color:white;cursor:pointer;font-size:45px}.jingle-image-container{position:relative;z-index:9;width:100%;vertical-align:top}.jingle-image-container .jingle-image-wrapper{height:200px}.single-song .jingle-image-container:hover+.overlay,.single-song .overlay:hover{visibility:visible;background:rgba(0,0,0,0.5)}.marketplace-wrapper .sidebar{border-right:1px solid #d1d1d1;color:black;padding:20px;padding-left:0;flex:1;flex-basis:240px;min-width:240px;max-width:240px;margin-right:10px;margin-bottom:20px}.sort-wrapper:not(:last-child){margin-bottom:20px}.sort-wrapper .sort-wrapper-label{font-size:20px;margin-bottom:15px}.marketplace-page-wrapper .pagination-wrapper{margin-left:15px}\n","",{version:3,sources:["webpack://./src/components/Marketplace/Marketplace.scss"],names:[],mappings:"AAAA,qBACI,gBAAiB,CACjB,YAAa,CACb,eAAgB,CACnB,0BAGG,YAAa,CACb,cAAe,CACf,sBAAuB,CACvB,kBAAmB,CACnB,YAAa,CAChB,oCAGG,YAAa,CACb,cAAe,CACf,UAAW,CACX,0BAA2B,CAC3B,YAAa,CACb,cAAe,CAClB,aAGG,sBAAuB,CACvB,cAAe,CACf,gBAAiB,CACpB,aAGG,YAAa,CACb,iBAAiB,CACjB,qBAAsB,CACtB,WAAY,CACZ,yBAA0B,CAC7B,sDAGG,UAAW,CACd,kCAGG,UAAW,CACX,WAAY,CACf,2BAGG,iBAAkB,CAClB,QAAS,CACT,SAAU,CACV,UAAW,CACX,gBAAiB,CACjB,WAAY,CACZ,iBAAkB,CAClB,WAAY,CACZ,cAAe,CACf,WAAY,CACf,gCAGG,gBAAiB,CACpB,sBAGG,iBAAkB,CAClB,uBAAwB,CACxB,YAAa,CACb,iBAAkB,CAClB,UAAW,CACX,KAAM,CACN,MAAO,CACP,YAAa,CACb,UAAU,CACV,kBAAmB,CACnB,4BAA6B,CAChC,6CAGG,WAAY,CACZ,cAAe,CACf,cAAe,CAClB,wBAGG,iBAAkB,CAClB,SAAU,CACV,UAAU,CACV,kBAAkB,CACrB,8CAGG,YAAa,CAChB,gFAGG,kBAAmB,CACnB,0BAA8B,CACjC,8BAMG,8BAA+B,CAC/B,WAAY,CACZ,YAAa,CACb,cAAe,CACf,MAAO,CACP,gBAAiB,CACjB,eAAgB,CAChB,eAAgB,CAChB,iBAAkB,CAClB,kBAAmB,CACtB,+BAGG,kBAAmB,CACtB,kCAGG,cAAe,CACf,kBAAmB,CACtB,8CAGG,gBAAiB",sourcesContent:[".marketplace-wrapper {\n    background: white;\n    display: flex;\n    margin-top: 20px;\n}\n\n.marketplace-play-wrapper {\n    height: 200px;\n    font-size: 40px;\n    justify-content: center;\n    align-items: center;\n    display: flex;\n}\n\n.marketplace-wrapper .songs-wrapper {\n    padding: 10px;\n    padding-left: 0;\n    width: 100%;\n    justify-content: flex-start;\n    display: flex;\n    flex-wrap: wrap;\n}\n\n.songs-count {\n    margin: 20px 0 5px 20px;\n    font-size: 16px;\n    font-weight: bold;\n}\n\n.single-song {\n    display: flex;\n    position:relative;\n    flex-direction: column;\n    width: 200px;\n    margin: 10px 10px 5px 10px;\n}\n\n.single-song #load, .single-song  .loading-icon-wrapper {\n    width: 45px;\n}\n\n.single-song #load #loading-inner {\n    width: 43px;\n    stroke: #fff;\n}\n\n.single-song .header-label {\n    position: absolute;\n    top: 10px;\n    left: 25px;\n    z-index: 10;\n    background: black;\n    width: 150px;\n    text-align: center;\n    padding: 5px;\n    font-size: 14px;\n    color: white;\n}\n\n.single-song .header-label span {\n    margin-right: 5px;\n}\n\n.single-song .overlay {\n    position: absolute;\n    transition: 0.2s ease-in;\n    display: flex;\n    visibility: hidden;\n    z-index: 10;\n    top: 0;\n    left: 0;\n    height: 200px;\n    width:100%;\n    align-items: center;\n    justify-content: space-evenly;\n}\n\n.overlay .play, .overlay .open, .overlay .stop {\n    color: white;\n    cursor: pointer;\n    font-size: 45px;\n}\n\n.jingle-image-container {\n    position: relative;\n    z-index: 9;\n    width:100%;\n    vertical-align:top;\n}\n\n.jingle-image-container .jingle-image-wrapper {\n    height: 200px;\n}\n\n.single-song .jingle-image-container:hover + .overlay, .single-song .overlay:hover {\n    visibility: visible;\n    background: rgba(0, 0, 0, 0.5);\n}\n\n/*img:after*/\n/*opacity: 1;*/\n\n.marketplace-wrapper .sidebar {\n    border-right: 1px solid #d1d1d1;\n    color: black;\n    padding: 20px;\n    padding-left: 0;\n    flex: 1;\n    flex-basis: 240px;\n    min-width: 240px;\n    max-width: 240px;\n    margin-right: 10px;\n    margin-bottom: 20px;\n}\n\n.sort-wrapper:not(:last-child) {\n    margin-bottom: 20px;\n}\n\n.sort-wrapper .sort-wrapper-label {\n    font-size: 20px;\n    margin-bottom: 15px;\n}\n\n.marketplace-page-wrapper .pagination-wrapper {\n    margin-left: 15px;\n}"],sourceRoot:""}]);const l=o},74988:(e,n,t)=>{t.d(n,{Z:()=>l});var a=t(94015),i=t.n(a),r=t(23645),o=t.n(r)()(i());o.push([e.id,".pagination-wrapper .pagination>.active>a{background:black;color:white}.pagination-wrapper .pagination>li>a{font-size:14px;color:black}.pagination-wrapper .pagination>li>a:hover{cursor:pointer;background:black;color:white}.pagination-wrapper .pagination>.disabled>a:hover{cursor:not-allowed}.pagination-wrapper .pagination>li.next>a:hover,.pagination-wrapper .pagination>li.previous>a:hover{background:white;color:black;opacity:0.75}.pagination-wrapper .pagination>li:first-child>a,.pagination-wrapper .pagination>li:first-child>span{margin-left:0;border-bottom-left-radius:0;border-top-left-radius:0}\n","",{version:3,sources:["webpack://./src/components/Pagination/Pagination.scss"],names:[],mappings:"AAAA,0CACI,gBAAiB,CACjB,WAAY,CACf,qCAGG,cAAe,CACf,WAAY,CACf,2CAGG,cAAe,CACf,gBAAiB,CACjB,WAAY,CACf,kDAGG,kBAAmB,CACtB,oGAIG,gBAAiB,CACjB,WAAY,CACZ,YAAa,CAChB,qGAIG,aAAc,CACd,2BAA4B,CAC5B,wBAAyB",sourcesContent:[".pagination-wrapper .pagination > .active > a {\n    background: black;\n    color: white;\n}\n\n.pagination-wrapper .pagination > li > a {\n    font-size: 14px;\n    color: black;\n}\n\n.pagination-wrapper .pagination > li > a:hover {\n    cursor: pointer;\n    background: black;\n    color: white;\n}\n\n.pagination-wrapper .pagination > .disabled > a:hover {\n    cursor: not-allowed;\n}\n\n.pagination-wrapper .pagination > li.next > a:hover,\n.pagination-wrapper .pagination > li.previous > a:hover {\n    background: white;\n    color: black;\n    opacity: 0.75;\n}\n\n.pagination-wrapper .pagination > li:first-child > a,\n.pagination-wrapper .pagination > li:first-child > span {\n    margin-left: 0;\n    border-bottom-left-radius: 0;\n    border-top-left-radius: 0;\n}"],sourceRoot:""}]);const l=o}}]);
//# sourceMappingURL=sourcemaps/368.aa972eb6af1b33a72631.bundle.js.map